<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Download Madlab Source </title>
    <style>
      /* General Reset */
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }
      body {
        font-family: "Arial", sans-serif;
        background: linear-gradient(135deg, #6c63ff, #ab47bc);
        color: #333;
        display: flex;
        align-items: center;
        justify-content: center;
        min-height: 100vh;
        margin: 0;
      }
      .container {
        background: #fff;
        width: 90%;
        max-width: 500px;
        padding: 20px 25px;
        border-radius: 15px;
        box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
        text-align: center;
      }
      h1 {
        font-size: 1.8rem;
        color: #333;
        margin-bottom: 20px;
      }
      .puzzle,
      .terms,
      .download,
      .result {
        margin: 20px 0;
      }
      .puzzle p {
        font-size: 1rem;
        font-weight: bold;
        color: #555;
        margin-bottom: 10px;
      }
      .options {
        display: flex;
        flex-direction: column;
        gap: 10px;
      }
      .options button {
        background: #eee;
        border: 1px solid #ccc;
        border-radius: 8px;
        color: rgb(26, 24, 24);
        padding: 10px;
        font-size: 1rem;
        cursor: pointer;
        transition: background 0.3s;
      }
      .options button:hover {
        background: #ddd;
      }
      .options button.selected {
        background: #6c63ff;
        color: #fff;
      }
      label {
        font-size: 0.9rem;
        color: #444;
      }
      a {
        color: #6c63ff;
        text-decoration: none;
      }
      a:hover {
        text-decoration: underline;
      }
      button {
        background: #6c63ff;
        color: #fff;
        border: none;
        border-radius: 8px;
        padding: 12px 20px;
        font-size: 1rem;
        cursor: pointer;
        transition: background 0.3s, transform 0.2s;
      }
      button:disabled {
        background: #ccc;
        cursor: not-allowed;
      }
      button:hover:not(:disabled) {
        background: #574acf;
        transform: translateY(-2px);
      }
      .download {
        display: none;
      }
      .result {
        display: none;
        font-size: 1rem;
        color: red;
      }
      footer {
        margin-bottom: 20px;
        font-size: 0.85rem;
        color: #666;
      }

      /* Responsive Design */
      @media (max-width: 768px) {
        h1 {
          font-size: 1.5rem;
        }
        button {
          padding: 10px 15px;
          font-size: 0.9rem;
        }
      }
    </style>
  </head>
  <body>
    <div class="container">
      <h1>Download Mad-Lab File</h1>
      <div class="puzzle">
        <p id="puzzle-question">Loading puzzle...</p>
        <div class="options" id="options-container"></div>
      </div>
      <div class="terms">
        <label>
          <input type="checkbox" id="terms-check" />
          I have read the
          <a href="T&C.html" target="_blank">Terms & Conditions</a>.
        </label>
      </div>
      <div>
        <button id="verify-btn" disabled>Verify and Download</button>
      </div>
      <div class="result" id="result-message">
        Incorrect answer! Please try again.
        <button onclick="location.reload()">Try Again</button>
      </div>
      <div class="download">
        <p>Great! Your download is ready:</p>
        <a href="https://srmvec.me/A2LbV9NzXq7Fw5G4T1Jp8QkH0VrZy6KmPo3CwDftMsYj.pdf" download>
          <button>Download</button>
        </a>
      </div>
    </div>

    <script>
      const puzzles = [
        {
          question:
            "Which sorting algorithm has the worst-case time complexity of O(n^2)?",
          options: ["Merge Sort", "Quick Sort", "Bubble Sort"],
          answer: "Bubble Sort",
        },
        {
          question:
            "What is the result of the following Python code? \nprint(len('Hello World'))",
          options: ["10", "11", "12"],
          answer: "11",
        },
        {
          question:
            'In C, what is the output of the following code?\nint a = 5; printf("%d", a++);',
          options: ["5", "6", "Compiler Error"],
          answer: "5",
        },
        {
          question:
            "Which data structure is best suited for implementing a priority queue?",
          options: ["Array", "Heap", "Linked List"],
          answer: "Heap",
        },
        {
          question: "What does the 'this' keyword in Java refer to?",
          options: ["Current object", "Parent class object", "Global object"],
          answer: "Current object",
        },
        {
          question:
            "What is the default value of an uninitialized boolean in Java?",
          options: ["true", "false", "null"],
          answer: "false",
        },
        {
          question:
            "Which of these is NOT a principle of Object-Oriented Programming?",
          options: ["Encapsulation", "Inheritance", "Compilation"],
          answer: "Compilation",
        },
        {
          question: "What does the command 'git clone' do?",
          options: [
            "Creates a new repository",
            "Creates a local copy of a remote repository",
            "Merges two branches",
          ],
          answer: "Creates a local copy of a remote repository",
        },
        {
          question: "In SQL, which keyword is used to sort the result-set?",
          options: ["SORT BY", "ORDER BY", "GROUP BY"],
          answer: "ORDER BY",
        },
        {
          question:
            "What is the output of the following JavaScript code?\nconsole.log(typeof null);",
          options: ["object", "null", "undefined"],
          answer: "object",
        },
        {
          question: "In a relational database, what is a 'foreign key'?",
          options: [
            "A unique identifier",
            "A reference to another table",
            "A primary key",
          ],
          answer: "A reference to another table",
        },
        {
          question:
            "Which algorithm is used for finding the shortest path in a graph?",
          options: [
            "Kruskal's Algorithm",
            "Dijkstra's Algorithm",
            "Prim's Algorithm",
          ],
          answer: "Dijkstra's Algorithm",
        },
        {
          question: "Which HTTP method is used to update data on the server?",
          options: ["GET", "POST", "PUT"],
          answer: "PUT",
        },
        {
          question:
            'What is the output of the following C code?\nint a = 10; printf("%d", a / 0);',
          options: ["Undefined Behavior", "0", "Runtime Error"],
          answer: "Undefined Behavior",
        },
        {
          question: "Which Python data type is immutable?",
          options: ["List", "Dictionary", "Tuple"],
          answer: "Tuple",
        },
        {
          question: "Which keyword is used to handle exceptions in Java?",
          options: ["try-catch", "handle", "catch-throw"],
          answer: "try-catch",
        },
        {
          question:
            "In JavaScript, what is the difference between '==' and '==='?",
          options: [
            "No difference",
            "'==' checks type and value",
            "'===' checks type and value",
          ],
          answer: "'===' checks type and value",
        },
        {
          question:
            "What is the Big-O complexity of searching in a hash table (average case)?",
          options: ["O(1)", "O(n)", "O(log n)"],
          answer: "O(1)",
        },
        {
          question: "In C++, what is a 'virtual function' used for?",
          options: ["Encapsulation", "Polymorphism", "Abstraction"],
          answer: "Polymorphism",
        },
        {
          question:
            "Which data structure is typically used in Depth-First Search (DFS)?",
          options: ["Queue", "Stack", "Priority Queue"],
          answer: "Stack",
        },
      ];

      const puzzleQuestionEl = document.getElementById("puzzle-question");
      const optionsContainerEl = document.getElementById("options-container");
      const termsCheckEl = document.getElementById("terms-check");
      const verifyBtnEl = document.getElementById("verify-btn");
      const downloadSectionEl = document.querySelector(".download");
      const resultMessageEl = document.getElementById("result-message");

      // Select a random puzzle on page load
      const randomPuzzle = puzzles[Math.floor(Math.random() * puzzles.length)];
      puzzleQuestionEl.textContent = randomPuzzle.question;

      randomPuzzle.options.forEach((option) => {
        const button = document.createElement("button");
        button.textContent = option;
        button.addEventListener("click", () => {
          document
            .querySelectorAll(".options button")
            .forEach((btn) => btn.classList.remove("selected"));
          button.classList.add("selected");
          verifyBtnEl.disabled = !termsCheckEl.checked;
        });
        optionsContainerEl.appendChild(button);
      });

      termsCheckEl.addEventListener("change", () => {
        verifyBtnEl.disabled = !termsCheckEl.checked;
      });

      verifyBtnEl.addEventListener("click", () => {
        const selectedOption = document.querySelector(
          ".options button.selected"
        );
        if (
          selectedOption &&
          selectedOption.textContent === randomPuzzle.answer
        ) {
          downloadSectionEl.style.display = "block";
          verifyBtnEl.style.display = "none";
          resultMessageEl.style.display = "none";
        } else {
          resultMessageEl.style.display = "block";
        }
      });
    </script>
  </body>
</html>
